package wtf.nebula.client.impl.module.exploits;

import me.bush.eventbus.annotation.EventListener;
import wtf.nebula.client.impl.event.impl.client.EventTick;
import wtf.nebula.client.impl.module.ModuleCategory;
import wtf.nebula.client.impl.module.ToggleableModule;

public class ResetVL extends ToggleableModule {

    private int jumps = 0;

    public ResetVL() {
        super("Reset VL", new String[]{"resetvl", "vlreset"}, ModuleCategory.EXPLOITS);
    }

    @Override
    protected void onDisable() {
        super.onDisable();
        jumps = 0;
        mc.timer.timerSpeed = 1.0f;
    }

    @EventListener
    public void onTick(EventTick event) {
        if (mc.thePlayer.onGround) {

            ++jumps;

            if (jumps >= 22) {
                mc.timer.timerSpeed = 2.0f;

                if (jumps >= 25) {
                    setRunning(false);
                }

                return;
            }

            mc.thePlayer.motionY = 0.2;
        }
    }
}
